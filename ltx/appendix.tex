\lstdefinelanguage{YAPPL}{
	morekeywords={fun,int,bool,float,true,rand,given,if,then,else,in,false,and,print_line,match,with,case,string,print,or,seed}
}
\lstset{language={[Objective]Caml}, basicstyle=\small, numbers=left, numberstyle=\tiny, numberfirstline=false, stepnumber=1, numbersep=10pt, tabsize=2, belowcaptionskip=2em, abovecaptionskip=3em, breaklines=true, breakatwhitespace=true}

\lstinputlisting[title=ast.ml]{../yappl/ast.ml}
\lstinputlisting[title=builtin.ml]{../yappl/builtin.ml}
\lstinputlisting[title=builtin.mli]{../yappl/builtin.mli}
\lstinputlisting[title=parser.mly]{../yappl/parser.mly}
\lstinputlisting[title=scanner.mll]{../yappl/scanner.mll}
\lstinputlisting[title=translate.ml]{../yappl/translate.ml}
\lstinputlisting[title=yappl.ml]{../yappl/yappl.ml}

\lstinputlisting[title=errors.sh, language=bash]{../yappl/errors.sh}
\lstinputlisting[title=Makefile, language=bash]{../yappl/Makefile}
\lstyappllisting{stdlib.ypl}
\lstinputlisting[title=testall.sh, language=bash]{../yappl/testall.sh}
\lstinputlisting[title=yapplc, language=bash]{../yappl/yapplc}

\lstset{language=YAPPL}
\lstyappllisting{tutorials/add.ypl}
\lstyappllisting{tutorials/dpmem.ypl}
\lstyappllisting{tutorials/geom.ypl}
\lstyappllisting{tutorials/geom-cond.ypl}
\lstyappllisting{tutorials/memogeom.ypl}


\lstyappltestlisting{test-array-cons}
\lstyappltestlisting{test-basic-operators}
\lstyappltestlisting{test-binding}
\lstyappltestlisting{test-functions}
\lstyappltestlisting{test-list-indexes}
\lstyappltestlisting{test-memo}
\lstyappltestlisting{test-more-operators}
\lstyappltestlisting{test-pattern-matching}
\lstyappltestlisting{test-pattern-matching-elist}
\lstyappltestlisting{test-pattern-matching-bug1}
\lstyappltestlisting{test-pattern-matching-bug2}
\lstyappltestlisting{test-print-line}

\lstyappllisting{errors/boolBindPLUSint.ypl}
\lstyappllisting{errors/boolIndex.ypl}
\lstyappllisting{errors/floatIndex.ypl}
\lstyappllisting{errors/intBindMINUSfloat.ypl}
\lstyappllisting{errors/intBindPLUSfloat.ypl}
\lstyappllisting{errors/intORint.ypl}
\lstyappllisting{errors/intPLUSfloat.ypl}
\lstyappllisting{errors/notAnERror.ypl}